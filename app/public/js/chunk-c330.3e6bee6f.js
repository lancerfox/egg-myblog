(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c330"],{"6fc4":function(t,e,n){},9962:function(t,e,n){"use strict";var r=n("6fc4"),i=n.n(r);i.a},ff95:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",[n("div",{staticStyle:{"border-bottom":"1px solid #ccc",padding:"10px 0"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("span",[t._v(" ")])]),n("Col",{attrs:{span:"12"}},[n("span",[t._v("标题：")]),n("div",{staticStyle:{display:"inline-block"}},[n("Input",{staticClass:"input-width",model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)]),n("Col",{attrs:{span:"6"}},[n("span",{staticStyle:{margin:"0 10px"}},[n("Button",{staticClass:"myaddmanager",attrs:{type:"primary"},on:{click:function(e){t.saveArticle()}}},[t._v("保存")])],1)])],1)],1),n("ueditor",{ref:"ueditor",attrs:{config:t.config},on:{_getContent:t.getContent}})],1)],1)},i=[],a=(n("96cf"),n("3040")),s=n("08ba"),o=n("a78e"),c=n.n(o),u=n("c276"),l=n("f121"),d={name:"UE",components:{ueditor:s["a"]},data:function(){return{config:{initialFrameWidth:800,initialFrameHeight:300,serverUrl:l["a"].baseUrl.pro+"/api/v1/ue?_csrf=",UEDITOR_HOME_URL:"./admin/public/ueditor/"},title:"",content:"",contentText:""}},mounted:function(){this.init()},methods:{init:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,r,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.query.id,n="?id="+e,t.next=4,this.$store.dispatch("get_article",n);case 4:if(r=t.sent,i=r.data,console.log(r),1!==i.error){t.next=12;break}return this.title="",this.contentText="",this.$Modal.error({title:"提示",content:"你要编辑的文章不存在！",onOk:function(){a.$router.push({path:"/articlemanage/articlelist"})}}),t.abrupt("return",!1);case 12:this.title=i.article.article_title,this.$refs.ueditor.setContentbtn(i.article.article_content);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getContent:function(t){var e=t.content,n=t.contentText;this.content=e,this.contentText=n},saveArticle:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.ueditor.getContentBtn(),!Object(u["m"])(this.title)){t.next=4;break}return this.$Message.error({content:"请输入文章标题！",duration:5}),t.abrupt("return",!1);case 4:if(!Object(u["m"])(this.content)){t.next=7;break}return this.$Message.error({content:"请输入文章内容！",duration:5}),t.abrupt("return",!1);case 7:return e={article_title:this.title,article_content:this.content,article_text_content:this.contentText,id:this.$route.query.id,author_id:c.a.get("uuid")},t.next=10,this.$store.dispatch("editor_article",e);case 10:n=t.sent,r=n.data,console.log(r),0===r.error?this.$Message.success({content:"保存成功",duration:5}):(console.log(r.message),this.$Message.error({content:"保存失败！"+r.message,duration:5}));case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},p=d,h=(n("9962"),n("2877")),f=Object(h["a"])(p,r,i,!1,null,null,null);f.options.__file="editorArticle.vue";e["default"]=f.exports}}]);